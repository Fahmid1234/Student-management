<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    $(document).ready(function () {
      var optionsPie = {
        series: [{{student_count}}, {{staff_count}}, {{course_count}}, {{subject_count}}],
        chart: {
            height: 350,
            width: '100%',
          type: 'pie',
        },
        labels: ['Student', 'Staff', 'Course', 'Subject'],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
                height: 350,
                width: '100%',
            },
            legend: {
              position: 'bottom'
            }
          }
        }]
      };
  
      var chartPie = new ApexCharts(document.querySelector("#All_details"), optionsPie);
      chartPie.render();
  
      if ($('#student').length > 0) {
        var optionsBar = {
          chart: {
            type: 'bar',
            height: 350,
            width: '100%',
            stacked: true,
            toolbar: {
              show: false
            },
          },
          dataLabels: {
            enabled: false
          },
          plotOptions: {
            bar: {
              columnWidth: '45%',
            }
          },
          series: [{
            name: "Boys",
            color: '#fdbb38',
            data: [{{male_student}}],
          }, {
            name: "Girls",
            color: '#19affb',
            data: [{{female_student}}],
          }],
          labels: [2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020],
          xaxis: {
            labels: {
              show: false
            },
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false
            },
          },
          yaxis: {
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false
            },
            labels: {
              style: {
                colors: '#777'
              }
            }
          },
          title: {
            text: '',
            align: 'left',
            style: {
              fontSize: '18px'
            }
          }
        };
  
        var chartBar = new ApexCharts(document.querySelector('#student'), optionsBar);
        chartBar.render();
      }
      var options = {
        series: [{{student_count}}, {{staff_count}}],
        chart: {
        type: 'donut',
        
      },
      labels: ['Student', 'Staff'],
      responsive: [{
        breakpoint: 480,
        options: {
          chart: {
            height: 350,
            width: '100%',
          },
          legend: {
            position: 'bottom'
          }
        }
      }]
      };

      var chart = new ApexCharts(document.querySelector("#stud_staff"), options);
      chart.render();



      var options = {
        series: [{{course_count}}, {{subject_count}}],
        chart: {
            height: 350,
            width: '100%',
        type: 'donut',
      },
      plotOptions: {
        pie: {
          startAngle: -90,
          endAngle: 270
        }
      },
      dataLabels: {
        enabled: false
      },
      fill: {
        type: 'gradient',
      },
      legend: {
        formatter: function(val, opts) {
          return val + " - " + opts.w.globals.series[opts.seriesIndex]
        }
      },
      labels: ['Course', 'Subject'],
      responsive: [{
        breakpoint: 480,
        options: {
          chart: {
            height: 350,
            width: '100%',
          },
          legend: {
            position: 'bottom'
          }
        }
      }]
      };

      var chart = new ApexCharts(document.querySelector("#course_sub"), options);
      chart.render();
    });

    
  </script>
